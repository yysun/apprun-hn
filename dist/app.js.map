{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/apprun/dist/apprun.esm.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/api.ts","webpack:///./src/hacker-news.tsx"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","this","_events","e","push","fn","options","filter","console","assert","length","once","forEach","delay","apply","on","assign","_t","clearTimeout","setTimeout","self","global","app","_AppRunVersions","Array","isArray","map","tag","getPrototypeOf","props","children","h","id","Date","now","u","mount","state","mounted","Promise","element","all","then","setState","ref","_component","_view","renderState","WeakMap","_op","nodeName","toUpperCase","a","parentNode","replaceChild","f","childNodes","Math","min","textContent","nodeType","nodeValue","HTMLElement","SVGElement","insertBefore","nextSibling","appendChild","removeChild","lastChild","document","createDocumentFragment","indexOf","createElement","insertAdjacentHTML","substring","createTextNode","JSON","stringify","createElementNS","_props","class","className","keys","startsWith","replace","dataset","style","cssText","toLowerCase","removeAttributeNS","setAttributeNS","setAttribute","removeAttribute","test","getAttribute","window","requestAnimationFrame","super","observedAttributes","isConnected","_shadowRoot","shadow","attachShadow","reduce","_attrMap","from","attributes","attributeChangedCallback","configurable","parentElement","dispatchEvent","run","render","unload","unmount","b","customElements","define","y","meta","has","set","v","j","O","components","k","_","view","update","_app","_actions","_global_events","_history","_history_idx","_history_prev","history","_history_next","start","type","checked","onclick","target","oninput","Number","onchange","multiple","selected","innerHTML","component","debug","vdom","el","getElementById","tracking_id","valueOf","toString","MutationObserver","observer","oldValue","body","contains","disconnect","observe","childList","subtree","attributeOldValue","attributeFilter","rendered","_state","catch","error","enable_history","callback","global_event","prev","next","route","add_actions","model","event","current_state","newState","getMetadataKeys","getMetadata","split","trim","add_action","is_global_event","off","$","Error","Fragment","webComponent","x","addEventListener","onpopstate","location","hash","Component","React","defineMetadata","customElement","g","Function","firebase","initializeApp","databaseURL","db","database","fetch","path","child","resolve","snapshot","val","fetchItem","item","kids","kid","list","fetchListItems","items","max","idx","Comment","comment","by","timeAgo","time","text","Comments","num","deleted","dead","pluralize","Item","href","url","title","score","descendants","back","ListItem","item_link","List","number","label","between","matches","classList","toggle","nextElementSibling"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","class t{constructor(){this._events={}}on(t,e,n={}){this._events[t]=this._events[t]||[],this._events[t].push({fn:e,options:n})}off(t,e){const n=this._events[t]||[];this._events[t]=n.filter(t=>t.fn!==e)}find(t){return this._events[t]}run(t,...e){const n=this._events[t]||[];return console.assert(n&&n.length>0,\"No subscriber for event: \"+t),this._events[t]=n.filter(t=>!t.options.once),n.forEach(n=>{const{fn:i,options:s}=n;return s.delay?this.delay(t,i,e,s):i.apply(this,e),!n.options.once}),n.length}once(t,e,n={}){this.on(t,e,Object.assign(Object.assign({},n),{once:!0}))}delay(t,e,n,i){i._t&&clearTimeout(i._t),i._t=setTimeout(()=>{clearTimeout(i._t),e.apply(this,n)},i.delay)}}let e;const n=\"object\"==typeof self&&self.self===self&&self||\"object\"==typeof global&&global.global===global&&global;n.app&&n._AppRunVersions?e=n.app:(e=new t,n.app=e,n._AppRunVersions=\"AppRun-2\");var i=e;function s(t,e,n=0){var o;if(\"string\"==typeof t)return t;if(Array.isArray(t))return t.map(t=>s(t,e,n++));let r=t;if(t&&\"function\"==typeof t.tag&&Object.getPrototypeOf(t.tag).t&&(r=function(t,e,n){const{tag:s,props:o,children:r}=t;let c=\"_\"+n,h=o&&o.id;h?c=h:h=`_${n}${Date.now()}`,e.i||(e.i={});let u=e.i[c];u&&u instanceof s||(u=e.i[c]=new s(Object.assign(Object.assign({},o),{children:r})).mount(h));let l=u.state;if(u.mounted){const t=u.mounted(o,r,u.state);l=void 0!==t?t:u.state}if(l instanceof Promise){const t=t=>{u.element=t,Promise.all([l]).then(t=>{t[0]?u.setState(t[0]):u.setState(u.state)})};return i.h(\"section\",Object.assign({},o,{ref:e=>t(e),_component:u}))}if(null!=l){const t=u._view(l,o),e=e=>{u.element=e,u.state=l,u.renderState(l,t)};return i.h(\"section\",Object.assign({},o,{ref:t=>e(t),_component:u}),t)}return i.h(\"section\",Object.assign({},o,{_component:u}))}(t,e,n)),r&&Array.isArray(r.children)){const t=null===(o=r.props)||void 0===o?void 0:o._component;if(t){let e=0;r.children=r.children.map(n=>s(n,t,e++))}else r.children=r.children.map(t=>s(t,e,n++))}return r}function o(t){const e=[],n=t=>{null!=t&&\"\"!==t&&!1!==t&&e.push(\"function\"==typeof t||\"object\"==typeof t?t:\"\"+t)};return t&&t.forEach(t=>{Array.isArray(t)?t.forEach(t=>n(t)):n(t)}),e}const r=new WeakMap,c=function(t,e,n={}){if(null==e||!1===e)return;e=s(e,n);const i=\"SVG\"===(null==t?void 0:t.nodeName);if(!t)return;Array.isArray(e)?u(t,e,i):u(t,[e],i)};function h(t,e,n){3!==e._op&&(n=n||\"svg\"===e.tag,!function(t,e){const n=t.nodeName,i=\"\"+(e.tag||\"\");return n.toUpperCase()===i.toUpperCase()}(t,e)?t.parentNode.replaceChild(f(e,n),t):(!(2&e._op)&&u(t,e.children,n),!(1&e._op)&&a(t,e.props,n)))}function u(t,e,n){var i;const s=(null===(i=t.childNodes)||void 0===i?void 0:i.length)||0,o=(null==e?void 0:e.length)||0,c=Math.min(s,o);for(let i=0;i<c;i++){const s=e[i];if(3===s._op)continue;const o=t.childNodes[i];if(\"string\"==typeof s)o.textContent!==s&&(3===o.nodeType?o.nodeValue=s:t.replaceChild(l(s),o));else if(s instanceof HTMLElement||s instanceof SVGElement)t.insertBefore(s,o);else{const e=s.props&&s.props.key;if(e)if(o.key===e)h(t.childNodes[i],s,n);else{const c=r[e];if(c){const e=c.nextSibling;t.insertBefore(c,o),e?t.insertBefore(o,e):t.appendChild(o)}h(t.childNodes[i],s,n)}else h(t.childNodes[i],s,n)}}let u=t.childNodes.length;for(;u>c;)t.removeChild(t.lastChild),u--;if(o>c){const i=document.createDocumentFragment();for(let t=c;t<e.length;t++)i.appendChild(f(e[t],n));t.appendChild(i)}}function l(t){if(0===t.indexOf(\"_html:\")){const e=document.createElement(\"div\");return e.insertAdjacentHTML(\"afterbegin\",t.substring(6)),e}return document.createTextNode(t)}function f(t,e){if(t instanceof HTMLElement||t instanceof SVGElement)return t;if(\"string\"==typeof t)return l(t);if(!t.tag||\"function\"==typeof t.tag)return l(JSON.stringify(t));const n=(e=e||\"svg\"===t.tag)?document.createElementNS(\"http://www.w3.org/2000/svg\",t.tag):document.createElement(t.tag);return a(n,t.props,e),t.children&&t.children.forEach(t=>n.appendChild(f(t,e))),n}function a(t,e,n){const i=t._props||{};e=function(t,e){e.class=e.class||e.className,delete e.className;const n={};return t&&Object.keys(t).forEach(t=>n[t]=null),e&&Object.keys(e).forEach(t=>n[t]=e[t]),n}(i,e||{}),t._props=e;for(const i in e){const s=e[i];if(i.startsWith(\"data-\")){const e=i.substring(5).replace(/-(\\w)/g,t=>t[1].toUpperCase());t.dataset[e]!==s&&(s||\"\"===s?t.dataset[e]=s:delete t.dataset[e])}else if(\"style\"===i)if(t.style.cssText&&(t.style.cssText=\"\"),\"string\"==typeof s)t.style.cssText=s;else for(const e in s)t.style[e]!==s[e]&&(t.style[e]=s[e]);else if(i.startsWith(\"xlink\")){const e=i.replace(\"xlink\",\"\").toLowerCase();null==s||!1===s?t.removeAttributeNS(\"http://www.w3.org/1999/xlink\",e):t.setAttributeNS(\"http://www.w3.org/1999/xlink\",e,s)}else i.startsWith(\"on\")?s&&\"function\"!=typeof s?\"string\"==typeof s&&(s?t.setAttribute(i,s):t.removeAttribute(i)):t[i]=s:/^id$|^class$|^list$|^readonly$|^contenteditable$|^role|-/g.test(i)||n?t.getAttribute(i)!==s&&(s?t.setAttribute(i,s):t.removeAttribute(i)):t[i]!==s&&(t[i]=s);\"key\"===i&&s&&(r[s]=t)}e&&\"function\"==typeof e.ref&&window.requestAnimationFrame(()=>e.ref(t))}function d(t,...e){return o(e)}const p=(t,e={})=>class extends HTMLElement{constructor(){super()}get component(){return this._component}get state(){return this._component.state}static get observedAttributes(){return(e.observedAttributes||[]).map(t=>t.toLowerCase())}connectedCallback(){if(this.isConnected&&!this._component){const n=e||{};this._shadowRoot=n.shadow?this.attachShadow({mode:\"open\"}):this;const i=n.observedAttributes||[],s=i.reduce((t,e)=>{const n=e.toLowerCase();return n!==e&&(t[n]=e),t},{});this._attrMap=t=>s[t]||t;const o={};Array.from(this.attributes).forEach(t=>o[this._attrMap(t.name)]=t.value),i.forEach(t=>{void 0!==this[t]&&(o[t]=this[t]),Object.defineProperty(this,t,{get:()=>o[t],set(e){this.attributeChangedCallback(t,o[t],e)},configurable:!0,enumerable:!0})});const r=this.children?Array.from(this.children):[];if(r.forEach(t=>t.parentElement.removeChild(t)),this._component=new t(Object.assign(Object.assign({},o),{children:r})).mount(this._shadowRoot,n),this._component._props=o,this._component.dispatchEvent=this.dispatchEvent.bind(this),this._component.mounted){const t=this._component.mounted(o,r,this._component.state);void 0!==t&&(this._component.state=t)}this.on=this._component.on.bind(this._component),this.run=this._component.run.bind(this._component),!1!==n.render&&this._component.run(\".\")}}disconnectedCallback(){var t,e,n,i;null===(e=null===(t=this._component)||void 0===t?void 0:t.unload)||void 0===e||e.call(t),null===(i=null===(n=this._component)||void 0===n?void 0:n.unmount)||void 0===i||i.call(n),this._component=null}attributeChangedCallback(t,n,i){if(this._component){const s=this._attrMap(t);this._component._props[s]=i,this._component.run(\"attributeChanged\",s,n,i),i!==n&&!1!==e.render&&window.requestAnimationFrame(()=>{this._component.run(\".\")})}}};var b=(t,e,n)=>{\"undefined\"!=typeof customElements&&customElements.define(t,p(e,n))};const y={meta:new WeakMap,defineMetadata(t,e,n){this.meta.has(n)||this.meta.set(n,{}),this.meta.get(n)[t]=e},getMetadataKeys(t){return t=Object.getPrototypeOf(t),this.meta.get(t)?Object.keys(this.meta.get(t)):[]},getMetadata(t,e){return e=Object.getPrototypeOf(e),this.meta.get(e)?this.meta.get(e)[t]:null}};function m(t,e={}){return(n,i,s)=>{const o=t?t.toString():i;return y.defineMetadata(\"apprun-update:\"+o,{name:o,key:i,options:e},n),s}}function g(t,e={}){return function(n,i){const s=t?t.toString():i;y.defineMetadata(\"apprun-update:\"+s,{name:s,key:i,options:e},n)}}function w(t,e){return function(n){return b(t,n,e),n}}const v=(t,e)=>(e?t.state[e]:t.state)||\"\",j=(t,e,n)=>{if(e){const i=t.state||{};i[e]=n,t.setState(i)}else t.setState(n)};const O={};i.on(\"get-components\",t=>t.components=O);const k=t=>t;class _{constructor(e,n,i,s){this.state=e,this.view=n,this.update=i,this.options=s,this._app=new t,this._actions=[],this._global_events=[],this._history=[],this._history_idx=-1,this._history_prev=()=>{this._history_idx--,this._history_idx>=0?this.setState(this._history[this._history_idx],{render:!0,history:!1}):this._history_idx=0},this._history_next=()=>{this._history_idx++,this._history_idx<this._history.length?this.setState(this._history[this._history_idx],{render:!0,history:!1}):this._history_idx=this._history.length-1},this.start=(t=null,e)=>this.mount(t,Object.assign(Object.assign({},e),{render:!0}))}render(t,e){i.render(t,e,this)}_view(t,e=null){if(!this.view)return;const n=i.createElement;i.h=i.createElement=(t,e,...s)=>(e&&Object.keys(e).forEach(n=>{n.startsWith(\"$\")&&(((t,e,n,s)=>{if(t.startsWith(\"$on\")){const n=e[t];if(t=t.substring(1),\"boolean\"==typeof n)e[t]=e=>s.run(t,e);else if(\"string\"==typeof n)e[t]=t=>s.run(n,t);else if(\"function\"==typeof n)e[t]=t=>s.setState(n(s.state,t));else if(Array.isArray(n)){const[i,...o]=n;\"string\"==typeof i?e[t]=t=>s.run(i,...o,t):\"function\"==typeof i&&(e[t]=t=>s.setState(i(s.state,...o,t)))}}else if(\"$bind\"===t){const i=e.type||\"text\",o=\"string\"==typeof e[t]?e[t]:e.name;if(\"input\"===n)switch(i){case\"checkbox\":e.checked=v(s,o),e.onclick=t=>j(s,o||t.target.name,t.target.checked);break;case\"radio\":e.checked=v(s,o)===e.value,e.onclick=t=>j(s,o||t.target.name,t.target.value);break;case\"number\":case\"range\":e.value=v(s,o),e.oninput=t=>j(s,o||t.target.name,Number(t.target.value));break;default:e.value=v(s,o),e.oninput=t=>j(s,o||t.target.name,t.target.value)}else\"select\"===n?(e.value=v(s,o),e.onchange=t=>{t.target.multiple||j(s,o||t.target.name,t.target.value)}):\"option\"===n?(e.selected=v(s,o),e.onclick=t=>j(s,o||t.target.name,t.target.selected)):\"textarea\"===n&&(e.innerHTML=v(s,o),e.oninput=t=>j(s,o||t.target.name,t.target.value))}else i.run(\"$\",{key:t,tag:n,props:e,component:s})})(n,e,t,this),delete e[n])}),n(t,e,...s));const s=e?this.view(t,e):this.view(t);return i.h=i.createElement=n,s}renderState(t,e=null){if(!this.view)return;let n=e||this._view(t);if(i.debug&&i.run(\"debug\",{component:this,_:n?\".\":\"-\",state:t,vdom:n,el:this.element}),\"object\"!=typeof document)return;const s=\"string\"==typeof this.element?document.getElementById(this.element):this.element;if(s){const t=\"_c\";this.unload?s._component===this&&s.getAttribute(t)===this.tracking_id||(this.tracking_id=(new Date).valueOf().toString(),s.setAttribute(t,this.tracking_id),\"undefined\"!=typeof MutationObserver&&(this.observer||(this.observer=new MutationObserver(t=>{t[0].oldValue!==this.tracking_id&&document.body.contains(s)||(this.unload(this.state),this.observer.disconnect(),this.observer=null)})),this.observer.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[t]}))):s.removeAttribute&&s.removeAttribute(t),s._component=this}e||this.render(s,n),this.rendered&&this.rendered(this.state)}setState(t,e={render:!0,history:!1}){if(t instanceof Promise)Promise.all([t,this._state]).then(t=>{t[0]&&this.setState(t[0])}).catch(t=>{throw console.error(t),t}),this._state=t;else{if(this._state=t,null==t)return;this.state=t,!1!==e.render&&this.renderState(t),!1!==e.history&&this.enable_history&&(this._history=[...this._history,t],this._history_idx=this._history.length-1),\"function\"==typeof e.callback&&e.callback(this.state)}}mount(t=null,e){var n,s;if(console.assert(!this.element,\"Component already mounted.\"),this.options=e=Object.assign(Object.assign({},this.options),e),this.element=t,this.global_event=e.global_event,this.enable_history=!!e.history,this.enable_history&&(this.on(e.history.prev||\"history-prev\",this._history_prev),this.on(e.history.next||\"history-next\",this._history_next)),e.route&&(this.update=this.update||{},this.update[e.route]=k),this.add_actions(),this.state=null!==(s=null!==(n=this.state)&&void 0!==n?n:this.model)&&void 0!==s?s:{},\"function\"==typeof this.state&&(this.state=this.state()),e.render?this.setState(this.state,{render:!0,history:!0}):this.setState(this.state,{render:!1,history:!0}),i.debug){const e=\"string\"==typeof t?t:t.id;O[e]=O[e]||[],O[e].push(this)}return this}is_global_event(t){return t&&(this.global_event||this._global_events.indexOf(t)>=0||t.startsWith(\"#\")||t.startsWith(\"/\")||t.startsWith(\"@\"))}add_action(t,e,n={}){e&&\"function\"==typeof e&&(n.global&&this._global_events.push(t),this.on(t,(...s)=>{i.debug&&i.run(\"debug\",{component:this,_:\">\",event:t,p:s,current_state:this.state,options:n});const o=e(this.state,...s);i.debug&&i.run(\"debug\",{component:this,_:\"<\",event:t,p:s,newState:o,state:this.state,options:n}),this.setState(o,n)},n))}add_actions(){const t=this.update||{};y.getMetadataKeys(this).forEach(e=>{if(e.startsWith(\"apprun-update:\")){const n=y.getMetadata(e,this);t[n.name]=[this[n.key].bind(this),n.options]}});const e={};Array.isArray(t)?t.forEach(t=>{const[n,i,s]=t;n.toString().split(\",\").forEach(t=>e[t.trim()]=[i,s])}):Object.keys(t).forEach(n=>{const i=t[n];(\"function\"==typeof i||Array.isArray(i))&&n.split(\",\").forEach(t=>e[t.trim()]=i)}),e[\".\"]||(e[\".\"]=k),Object.keys(e).forEach(t=>{const n=e[t];\"function\"==typeof n?this.add_action(t,n):Array.isArray(n)&&this.add_action(t,n[0],n[1])})}run(t,...e){const n=t.toString();return this.is_global_event(n)?i.run(n,...e):this._app.run(n,...e)}on(t,e,n){const s=t.toString();return this._actions.push({name:s,fn:e}),this.is_global_event(s)?i.on(s,e,n):this._app.on(s,e,n)}unmount(){var t;null===(t=this.observer)||void 0===t||t.disconnect(),this._actions.forEach(t=>{const{name:e,fn:n}=t;this.is_global_event(e)?i.off(e,n):this._app.off(e,n)})}}_.t=!0;const A=\"//\",M=\"///\",$=t=>{if(t||(t=\"#\"),t.startsWith(\"#\")){const[e,...n]=t.split(\"/\");i.run(e,...n)||i.run(\"///\",e,...n),i.run(\"//\",e,...n)}else if(t.startsWith(\"/\")){const[e,n,...s]=t.split(\"/\");i.run(\"/\"+n,...s)||i.run(\"///\",\"/\"+n,...s),i.run(\"//\",\"/\"+n,...s)}else i.run(t)||i.run(\"///\",t),i.run(\"//\",t)};i.h=i.createElement=function(t,e,...n){const i=o(n);if(\"string\"==typeof t)return{tag:t,props:e,children:i};if(Array.isArray(t))return t;if(void 0===t&&n)return i;if(Object.getPrototypeOf(t).t)return{tag:t,props:e,children:i};if(\"function\"==typeof t)return t(e,i);throw new Error(\"Unknown tag in vdom \"+t)},i.render=function(t,e,n){c(t,e,n)},i.Fragment=d,i.webComponent=b,i.start=(t,e,n,i,s)=>{const o=Object.assign(Object.assign({},s),{render:!0,global_event:!0}),r=new _(e,n,i);return s&&s.rendered&&(r.rendered=s.rendered),r.mount(t,o),r};const x=t=>{};i.on(\"$\",x),i.on(\"debug\",t=>x),i.on(\"//\",x),i.on(\"#\",x),i.route=$,i.on(\"route\",t=>i.route&&i.route(t)),\"object\"==typeof document&&document.addEventListener(\"DOMContentLoaded\",()=>{i.route===$&&(window.onpopstate=()=>$(location.hash),$(location.hash))}),\"object\"==typeof window&&(window.Component=_,window.React=i,window.on=g,window.customElement=w);export default i;export{_ as Component,d as Fragment,M as ROUTER_404_EVENT,A as ROUTER_EVENT,i as app,w as customElement,m as event,g as on,m as update};\n//# sourceMappingURL=apprun.esm.js.map\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import app from 'apprun';\r\n\r\ndeclare let firebase;\r\n\r\nfirebase.initializeApp({ databaseURL: 'https://hacker-news.firebaseio.com' });\r\nconst db = firebase.database().ref('/v0');\r\n\r\nconst fetch = async (path): Promise<any> => {\r\n  const ref = db.child(path);\r\n  return new Promise((resolve) => {\r\n    ref.once('value', snapshot => resolve(snapshot.val())); // tslint:disable-line\r\n  })\r\n}\r\n\r\nconst fetchItem = async (id): Promise<any> => {\r\n  const item = await fetch(`item/${id}`);\r\n  if (item && item.kids) item.kids = await Promise.all(item.kids.map(async kid => {\r\n    return typeof kid === 'number' ?\r\n      await fetchItem(kid) : kid\r\n  }));\r\n  return item;\r\n}\r\n\r\napp.on('get-list', async (type, list) => {\r\n  const fetchListItems = async ({ items, min, max }) => {\r\n    await Promise.all(items.map(async (id, idx) => {\r\n      if (idx >= min && idx < max && (typeof id === 'number')) {\r\n        items[idx] = await fetch(`item/${id}`)\r\n      }\r\n    }));\r\n    app.run('render');\r\n  }\r\n  if (list.items.length) {\r\n    await fetchListItems(list);\r\n  } else {\r\n    const ref = db.child(`${type}stories`);\r\n    ref.on('value', async snapshot => {\r\n      list.items = snapshot.val();\r\n      await fetchListItems(list);\r\n    });\r\n  }\r\n});\r\n\r\napp.on('get-item', (id, state) => {\r\n  if (!id) return;\r\n  const ref = db.child(`item/${id}`);\r\n  ref.on('value', async snapshot => {\r\n    state[id] = snapshot.val();\r\n    if (state[id].kids) {\r\n      state[id].kids = await Promise.all(state[id].kids.map(async kid => {\r\n        return typeof kid === 'number' ?\r\n          await fetchItem(kid) : kid\r\n      }));\r\n    }\r\n    app.run('render');\r\n  });\r\n});\r\n\r\n","import app from 'apprun';\r\nimport './api';\r\n\r\nconst page_size = 30;\r\n\r\nconst Comment = ({ comment }) => {\r\n  if (!comment) return;\r\n  return <li className='comment'>\r\n    <div className='meta'>\r\n      <span>by {comment.by}</span> |&nbsp;\r\n      <span>{timeAgo(comment.time)} ago</span>\r\n    </div>\r\n    <div className='text'>{`_html:${comment.text}`}</div>\r\n    <Comments item={comment} />  {/* tslint:disable-line */}\r\n  </li>\r\n}\r\n\r\nconst Comments = ({ item }) => {\r\n  if (!item || !item.kids) return;\r\n  const list = item.kids;\r\n  const num = item.kids && item.kids.filter(items => item && !item.deleted && !item.dead).length;\r\n  return <div>\r\n    {num && <div className='toggle'>{pluralize(num, ' comment')} </div>}\r\n    <ul className='comment-list'> {\r\n      list.filter(comment => comment && !comment.deleted)\r\n        .map(comment => <Comment comment={comment} />)\r\n    }\r\n    </ul>\r\n  </div>;\r\n}\r\n\r\nconst Item = ({ item }) => {\r\n  if (!item) return;\r\n  return <div className='story'>\r\n    <h4><a href={item.url} target=\"_blank\">{item.title}</a></h4>\r\n    {(item.text) && <div className='text'>{`_html:${item.text}`}</div>}\r\n    <div className='meta'>\r\n      <span>{pluralize(item.score, ' point')}</span> |&nbsp;\r\n        <span>by {item.by}</span> |&nbsp;\r\n        <span>{timeAgo(item.time)} ago</span> |&nbsp;\r\n        <span>{pluralize(item.descendants, ' comment')} (in total)  |&nbsp;</span>\r\n      <span><a onclick={() => history.back()}>back</a></span>\r\n    </div>\r\n    <Comments item={item} />\r\n  </div>\r\n}\r\n\r\nconst ListItem = ({ item, idx }) => {\r\n  if (!item) return;\r\n  const item_link = `#/item/${item.id}`;\r\n  return <li>\r\n    <div className={'score'}>{item.score}</div>\r\n    <div><a href={item.url || item_link} target=\"_blank\">{item.title}</a></div>\r\n    <div className='meta'>\r\n      <span>by {item.by}</span> |&nbsp;\r\n        <span>{timeAgo(item.time)} ago</span> |&nbsp;\r\n        <span><a href={`${item_link}`}>{pluralize(item.descendants, ' comment')}</a></span>\r\n    </div>\r\n  </li>\r\n}\r\n\r\nconst List = ({ list }) => {\r\n  if (!list || !list.items) return;\r\n  return <div>\r\n    <ul className='story-list'> {\r\n      list.items.filter((item, i) => i >= list.min && i < list.max && (typeof item !== 'number'))\r\n        .map(item => <ListItem item={item} idx={list.items.indexOf(item) + 1} />)\r\n    }\r\n    </ul>\r\n    <div className='more'>\r\n      <span>{list.min + 1} - {list.max} ({list.items.length}) &nbsp;</span>\r\n      {list.items && list.max < list.items.length && <a onclick={() => app.run('more')}> |&nbsp; More ...</a>}\r\n    </div>\r\n  </div>;\r\n}\r\n\r\nconst view = state => {\r\n  if (state instanceof Promise) return;\r\n  const style = (type) => ({ 'font-weight': type === state.type ? 'bold' : 'normal' });\r\n  return <div className={`hn ${state.type}`}>\r\n    <div className='header'>\r\n      <div className='inner'>\r\n        <div style={{ 'float': 'left' }}>\r\n          <span style={{ 'margin-right': '20px' }}>\r\n            <a href='#'>AppRun&#10084;&nbsp;HN</a>\r\n          </span>\r\n          <a style={style('top')} href={`#/top`}>Top</a> |&nbsp;\r\n          <a style={style('new')} href={`#/new`}>New</a> |&nbsp;\r\n          <a style={style('best')} href={`#/best`}>Best</a> |&nbsp;\r\n          <a style={style('show')} href={`#/show`}>Show</a> |&nbsp;\r\n          <a style={style('ask')} href={`#/ask`}>Ask</a> |&nbsp;\r\n          <a style={style('job')} href={`#/job`}>Jobs</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div className='main'>\r\n      <div className='inner'>\r\n        {state.type === 'item' ?\r\n          <Item item={state[state.id]} /> :\r\n          <List list={state[state.type]} />}\r\n      </div>\r\n    </div>\r\n    <div className='footer'>\r\n      <div className='inner'>\r\n        Powered by <a href='https://github.com/yysun/apprun'>AppRun</a>,\r\n        Source code: <a href='https://github.com/yysun/apprun-hn'>Github.</a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n}\r\n\r\nconst update = {\r\n  '#': (state, type, id) => {\r\n    type = type || 'top';\r\n    state.type = type;\r\n    state[type] = state[type] || { min: 0, max: page_size, items: [] };\r\n    state.id = id;\r\n    if (type === 'item')\r\n      app.run('get-item', id, state);\r\n    else\r\n      app.run('get-list', type, state[type]);\r\n  },\r\n  'render': state => state,\r\n  'more': state => {\r\n    const list = state[state.type];\r\n    list.max = Math.min(list.max + page_size, list.items.length)\r\n    app.run('get-list', state.type, list);\r\n  },\r\n}\r\n\r\n\r\napp.start(document.body, {}, view, update);\r\n\r\ndocument.body.addEventListener('click', e => {\r\n  const t = e.target as HTMLElement;\r\n  if (t.matches('.toggle')) {\r\n    t.classList.toggle('closed');\r\n    t.nextElementSibling && t.nextElementSibling.classList.toggle('collapsed');\r\n  }\r\n});\r\n\r\nfunction pluralize(number, label) {\r\n  if (!number) number = 0;\r\n  return (number === 1) ? number + label : number + label + 's'\r\n}\r\n\r\nfunction timeAgo(time) {\r\n  const between = Date.now() / 1000 - Number(time)\r\n  if (between < 3600) {\r\n    return pluralize(~~(between / 60), ' minute')\r\n  } else if (between < 86400) {\r\n    return pluralize(~~(between / 3600), ' hour')\r\n  } else {\r\n    return pluralize(~~(between / 86400), ' day')\r\n  }\r\n}\r\n\r\n"],"sourceRoot":""}